<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Class</title>
    <link rel="stylesheet" href="../style.css">
    <style>
        body {
            background: linear-gradient(to bottom, #e0f0ff 0%, #ffffff 100%);
            font-family: "Comic Sans MS", cursive, sans-serif;
        }

        h1 {
            margin: 5px;
            color: #2e5c8a;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
            font-size: 28px;
            text-align: center;
        }

        #tip-content {}

        #class-content {
            background-color: rgba(255, 255, 255, 0.8);
            border: 2px inset #c0c0c0;
            padding: 10px;
            margin-bottom: 20px;
            border-radius: 5px;
            box-shadow: inset 2px 2px 5px rgba(0, 0, 0, 0.1);
        }

        ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        li {
            background-color: #f0f8ff;
            border: 1px outset #c0c0c0;
            margin-bottom: 8px;
            padding: 10px;
            border-radius: 3px;
            box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.2);
            transition: all 0.2s ease;
        }

        li:hover {
            background-color: #e6f3ff;
            border: 1px inset #c0c0c0;
        }

        a {
            text-decoration: none;
            color: #800080;
            font-weight: bold;
            display: flex;
            align-items: center;
        }

        .current {
            color: #0066cc;
        }

        a:hover {
            color: #004499;
        }
    </style>
    <script src="../resource/common.js"></script>
</head>

<body style="margin: 0; padding: 5px 20px 20px 20px;">
    <h1>Welcome Larva!</h1>
    <div id="tip-content"></div>
    <div id="class-content"></div>

    <script>
        // Tips dictionary - each day maps to a tip message
        const tips = {
            "1": "It's time for your first class!<br />Exciting, isn't it?<br />Click on the link right below to get you started!"
        };

        // Class entries dictionary - each day maps to HTML snippets for class items
        const classEntries = {
            "1": `<li>
                <a href="class.html">
                    <img src="../resource/book_icon.png" style="width:20px; height:20px; margin-right:5px">My First Class
                </a>
            </li>`,
            "2": `<li>
                <a href="class.html">
                    <img src="../resource/book_icon.png" style="width:20px; height:20px; margin-right:5px">..PHD.. Introduction to Streaming
                </a>
            </li>`,
            "3": `<li>
                <a href="class.html">
                    <img src="../resource/book_icon.png" style="width:20px; height:20px; margin-right:5px">..PHD.. The Art of Chat
                </a>
            </li>`,
            "4": `<li>
                <a href="class.html">
                    <img src="../resource/book_icon.png" style="width:20px; height:20px; margin-right:5px">..PHD.. Privacy vs Public Life
                </a>
            </li>`,
            "5": `<li>
                <a href="class.html">
                    <img src="../resource/book_icon.png" style="width:20px; height:20px; margin-right:5px">..PHD.. Building Your Online Presence
                </a>
            </li>`,
            "6": `<li>
                <a href="class.html">
                    <img src="../resource/book_icon.png" style="width:20px; height:20px; margin-right:5px">..PHD.. Community Management
                </a>
            </li>`,
            "7": `<li>
                <a href="class.html">
                    <img src="../resource/book_icon.png" style="width:20px; height:20px; margin-right:5px">..PHD.. Monetization Strategies
                </a>
            </li>`,
            "8": `<li>
                <a href="class.html">
                    <img src="../resource/book_icon.png" style="width:20px; height:20px; margin-right:5px">..PHD.. Crisis Communication
                </a>
            </li>`,
            "9": `<li>
                <a href="class.html">
                    <img src="../resource/book_icon.png" style="width:20px; height:20px; margin-right:5px">..PHD.. Final Project Preparation
                </a>
            </li>`,
            "10": `<li>
                <a href="class.html">
                    <img src="../resource/book_icon.png" style="width:20px; height:20px; margin-right:5px">..PHD.. Class Selection Ceremony
                </a>
            </li>`
        };

        function generateClassContent() {
            const currentDay = getDay();
            const contentDiv = document.getElementById('class-content');

            // Get all entries before or equal to current day
            const availableEntries = [];
            for (let day = 1; day <= currentDay; day++) {
                if (classEntries[day.toString()]) {
                    availableEntries.push({
                        day: day,
                        html: classEntries[day.toString()]
                    });
                }
            }

            // Display entries in reverse chronological order (newest first)
            availableEntries.reverse();

            let html = '<ul>';
            availableEntries.forEach(entry => {
                let linkHtml = entry.html;
                if (entry.day == currentDay) {
                    linkHtml = linkHtml.replace('<a ', '<a class="current" ');
                }
                html += `<li>${linkHtml.replace('<li>', '').replace('</li>', '')}</li>`;
            });
            html += '</ul>';

            contentDiv.innerHTML = html;

            // Generate tip content
            const tipDiv = document.getElementById('tip-content');
            const currentTip = tips[currentDay.toString()];
            if (currentTip) {
                tipDiv.innerHTML = `<div class="help-bubble">${currentTip}</div>`;
            } else {
                tipDiv.innerHTML = '';
            }
        }

        // Generate class content when page loads
        generateClassContent();

        // Regenerate class content every 2 seconds to show day changes dynamically
        setInterval(generateClassContent, 2000);
    </script>
</body>

</html>