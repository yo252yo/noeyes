<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Influencers</title>
    <link rel="stylesheet" href="../../resource/css/style.css">
    <link rel="stylesheet" href="../../resource/css/class.css">
    <script type="module">
        import { getValue } from '../../resource/js/common.js';

        window.updateScoreDisplay = function () {
            const value = getValue();
            const scoreDisplay = document.getElementById('score-display');
            scoreDisplay.textContent = value + '/400';

            const nextButtonContainer = document.getElementById('next-button');
            if (value >= 400) {
                nextButtonContainer.style.display = 'block';
            } else {
                nextButtonContainer.style.display = 'none';
            }
        };

        // Update on page load
        document.addEventListener('DOMContentLoaded', window.updateScoreDisplay);

        // Update periodically in case value changes from other sources
        setInterval(window.updateScoreDisplay, 1000);
    </script>
</head>

<body style="margin: 0; padding: 20px;">
    <h1 class="welcome-text">It's up to you now!</h1>

    <p>Use your farm and your hive to produce <span class="highlight-text">Value</span>!</p>

    <div class="info-panel">
        <b>What kind of manager are you?</b>
        <p>You can try to be the fastest of the class, or take your own leisurely time by alternating between your
            tasks.
        </p>
        <p>How you do it is entirely up to <span class="highlight-text">YOU</span>!</p>
    </div>

    <div class="info-panel">
        <p>Accumulate 400 <span class="highlight-text">Value</span> to validate this class. (<span
                id="score-display">0/400</span>)
        </p>
    </div>

    <div style="text-align: center; display:none;" id="next-button">
        <a href="4_5.html" class="next-button">
            <img src="../../resource/icons/next.png" alt="Continue" />
            NEXT
        </a>
    </div>
</body>

</html>